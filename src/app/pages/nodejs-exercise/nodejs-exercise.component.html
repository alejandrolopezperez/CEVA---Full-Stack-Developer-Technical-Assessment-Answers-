<main class="container mt-5">
    <div>
        <h5>Exercise 1 - Is there a problem? </h5>
         <textarea name="" id="" cols="30" rows="10" style="width: 100%;">
            // Call web service and return count user, (got is library to call url)
            async function getCountUsers() {
              return { total: await got.get('https://my-webservice.moveecar.com/users/count') };
            }
            
            // Add total from service with 20
            async function computeResult() {
              const result = getCountUsers();
              return result.total + 20;
            }
         </textarea>
    </div>
    <div>
        <h5>Solution! </h5>
        <textarea name="" id="" cols="30" rows="10" style="width: 100%;">
            // Call web service and return count user, (got is library to call url)
            async function getCountUsers() {
              return { total: await got.get('https://my-webservice.moveecar.com/users/count') };
            }
            
            // Add total from service with 20
            async function computeResult() {
              const result = await getCountUsers();
              return result.total + 20;
            }
         </textarea>
         <span>Explanation: Because getCountUsers is a promise, we need the asynchrony to obtain the value of the object in this case, Total.</span>
    </div>


    <div class="mt-5">
        <h5>Exercise 2 - Is there a problem? </h5>
         <textarea name="" id="" cols="30" rows="10" style="width: 100%;">
            // Call web service and return total vehicles, (got is library to call url)
            async function getTotalVehicles() {
                return await got.get('https://my-webservice.moveecar.com/vehicles/total');
            }
            
            function getPlurial() {
                let total;
                getTotalVehicles().then(r => total = r);
                if (total <= 0) {
                    return 'none';
                }
                if (total <= 10) {
                    return 'few';
                }
                return 'many';
            }
            
         </textarea>
    </div>
    <div class="mb-5">
        <h5>Solution! </h5>
        <textarea name="" id="" cols="30" rows="10" style="width: 100%;">
            async function getTotalVehicles() {
                return await got.get('https://my-webservice.moveecar.com/vehicles/total');
            }
            
            function getPlurial() {
                let total;
                getTotalVehicles().then((r) => {
                  total = r
            
                   if (total <= 0) {
                      return 'none';
                   }
            
                   if (total <= 10) {
                      return 'few';
                   }
            
                     return 'many';
                } );
               
            }
         </textarea>
         <span>Explanation: The solution is to place the iterations of the 'if' inside the 'then' block and return the results. Previously, these were outside, and when executing 'getTotalVehicles', the code would stop without returning anything.</span>
    </div>


</main>